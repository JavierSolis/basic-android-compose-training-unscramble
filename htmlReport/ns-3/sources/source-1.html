


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > GameScreenKt</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.example.unscramble.ui</a>
</div>

<h1>Coverage Summary for Class: GameScreenKt (com.example.unscramble.ui)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">GameScreenKt</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/162)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/139)
  </span>
</td>
</tr>
  <tr>
    <td class="name">GameScreenKt$FinalScoreDialog$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$FinalScoreDialog$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$FinalScoreDialog$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$FinalScoreDialog$3$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$FinalScoreDialog$4</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$FinalScoreDialog$5</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$GameLayout$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/20)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/76)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$GameLayout$1$1$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$GameLayout$1$1$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/10)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$GameLayout$2</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$GameScreen$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$GameScreen$1$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$GameScreen$1$3$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$GameScreen$1$3$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$GameScreen$1$4</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$GameScreen$2</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$GameScreenPreview$1</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$GameStatus$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">GameScreenKt$GameStatus$2</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/20)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/224)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/239)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * Copyright (C) 2023 The Android Open Source Project
&nbsp; *
&nbsp; * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
&nbsp; * you may not use this file except in compliance with the License.
&nbsp; * You may obtain a copy of the License at
&nbsp; *
&nbsp; *     https://www.apache.org/licenses/LICENSE-2.0
&nbsp; *
&nbsp; * Unless required by applicable law or agreed to in writing, software
&nbsp; * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
&nbsp; * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&nbsp; * See the License for the specific language governing permissions and
&nbsp; * limitations under the License.
&nbsp; */
&nbsp;package com.example.unscramble.ui
&nbsp;
&nbsp;import android.app.Activity
&nbsp;import androidx.compose.foundation.background
&nbsp;import androidx.compose.foundation.layout.Arrangement
&nbsp;import androidx.compose.foundation.layout.Column
&nbsp;import androidx.compose.foundation.layout.fillMaxWidth
&nbsp;import androidx.compose.foundation.layout.padding
&nbsp;import androidx.compose.foundation.layout.safeDrawingPadding
&nbsp;import androidx.compose.foundation.layout.statusBarsPadding
&nbsp;import androidx.compose.foundation.layout.wrapContentHeight
&nbsp;import androidx.compose.foundation.rememberScrollState
&nbsp;import androidx.compose.foundation.text.KeyboardActions
&nbsp;import androidx.compose.foundation.text.KeyboardOptions
&nbsp;import androidx.compose.foundation.verticalScroll
&nbsp;import androidx.compose.material3.AlertDialog
&nbsp;import androidx.compose.material3.Button
&nbsp;import androidx.compose.material3.Card
&nbsp;import androidx.compose.material3.CardDefaults
&nbsp;import androidx.compose.material3.MaterialTheme.colorScheme
&nbsp;import androidx.compose.material3.MaterialTheme.shapes
&nbsp;import androidx.compose.material3.MaterialTheme.typography
&nbsp;import androidx.compose.material3.OutlinedButton
&nbsp;import androidx.compose.material3.OutlinedTextField
&nbsp;import androidx.compose.material3.Text
&nbsp;import androidx.compose.material3.TextButton
&nbsp;import androidx.compose.material3.TextFieldDefaults
&nbsp;import androidx.compose.runtime.Composable
&nbsp;import androidx.compose.runtime.collectAsState
&nbsp;import androidx.compose.runtime.getValue
&nbsp;import androidx.compose.ui.Alignment
&nbsp;import androidx.compose.ui.Modifier
&nbsp;import androidx.compose.ui.draw.clip
&nbsp;import androidx.compose.ui.platform.LocalContext
&nbsp;import androidx.compose.ui.res.dimensionResource
&nbsp;import androidx.compose.ui.res.stringResource
&nbsp;import androidx.compose.ui.text.input.ImeAction
&nbsp;import androidx.compose.ui.text.style.TextAlign
&nbsp;import androidx.compose.ui.tooling.preview.Preview
&nbsp;import androidx.compose.ui.unit.dp
&nbsp;import androidx.compose.ui.unit.sp
&nbsp;import androidx.lifecycle.viewmodel.compose.viewModel
&nbsp;import com.example.unscramble.R
&nbsp;import com.example.unscramble.ui.theme.UnscrambleTheme
&nbsp;
&nbsp;@Composable
<b class="nc">&nbsp;fun GameScreen(gameViewModel: GameViewModel = viewModel()) {</b>
<b class="nc">&nbsp;    val gameUiState by gameViewModel.uiState.collectAsState()</b>
<b class="nc">&nbsp;    val mediumPadding = dimensionResource(R.dimen.padding_medium)</b>
&nbsp;
<b class="nc">&nbsp;    Column(</b>
<b class="nc">&nbsp;        modifier = Modifier</b>
<b class="nc">&nbsp;            .statusBarsPadding()</b>
<b class="nc">&nbsp;            .verticalScroll(rememberScrollState())</b>
<b class="nc">&nbsp;            .safeDrawingPadding()</b>
<b class="nc">&nbsp;            .padding(mediumPadding),</b>
<b class="nc">&nbsp;        verticalArrangement = Arrangement.Center,</b>
<b class="nc">&nbsp;        horizontalAlignment = Alignment.CenterHorizontally</b>
&nbsp;    ) {
&nbsp;
<b class="nc">&nbsp;        Text(</b>
<b class="nc">&nbsp;            text = stringResource(R.string.app_name),</b>
<b class="nc">&nbsp;            style = typography.titleLarge,</b>
&nbsp;        )
<b class="nc">&nbsp;        GameLayout(</b>
<b class="nc">&nbsp;            onUserGuessChanged = { gameViewModel.updateUserGuess(it) },</b>
<b class="nc">&nbsp;            wordCount = gameUiState.currentWordCount,</b>
<b class="nc">&nbsp;            userGuess = gameViewModel.userGuess,</b>
<b class="nc">&nbsp;            onKeyboardDone = { gameViewModel.checkUserGuess() },</b>
<b class="nc">&nbsp;            currentScrambledWord = gameUiState.currentScrambledWord,</b>
<b class="nc">&nbsp;            isGuessWrong = gameUiState.isGuessedWordWrong,</b>
<b class="nc">&nbsp;            modifier = Modifier</b>
<b class="nc">&nbsp;                .fillMaxWidth()</b>
<b class="nc">&nbsp;                .wrapContentHeight()</b>
<b class="nc">&nbsp;                .padding(mediumPadding)</b>
&nbsp;        )
<b class="nc">&nbsp;        Column(</b>
<b class="nc">&nbsp;            modifier = Modifier</b>
<b class="nc">&nbsp;                .fillMaxWidth()</b>
<b class="nc">&nbsp;                .padding(mediumPadding),</b>
<b class="nc">&nbsp;            verticalArrangement = Arrangement.spacedBy(mediumPadding),</b>
<b class="nc">&nbsp;            horizontalAlignment = Alignment.CenterHorizontally</b>
&nbsp;        ) {
&nbsp;
<b class="nc">&nbsp;            Button(</b>
<b class="nc">&nbsp;                modifier = Modifier.fillMaxWidth(),</b>
<b class="nc">&nbsp;                onClick = { gameViewModel.checkUserGuess() }</b>
&nbsp;            ) {
&nbsp;                Text(
&nbsp;                    text = stringResource(R.string.submit),
&nbsp;                    fontSize = 16.sp
&nbsp;                )
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            OutlinedButton(</b>
<b class="nc">&nbsp;                onClick = { gameViewModel.skipWord() },</b>
<b class="nc">&nbsp;                modifier = Modifier.fillMaxWidth()</b>
&nbsp;            ) {
&nbsp;                Text(
&nbsp;                    text = stringResource(R.string.skip),
&nbsp;                    fontSize = 16.sp
&nbsp;                )
&nbsp;            }
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        GameStatus(score = gameUiState.score, modifier = Modifier.padding(20.dp))</b>
&nbsp;
<b class="nc">&nbsp;        if (gameUiState.isGameOver) {</b>
<b class="nc">&nbsp;            FinalScoreDialog(</b>
<b class="nc">&nbsp;                score = gameUiState.score,</b>
<b class="nc">&nbsp;                onPlayAgain = { gameViewModel.resetGame() }</b>
&nbsp;            )
&nbsp;        }
<b class="nc">&nbsp;    }</b>
<b class="nc">&nbsp;}</b>
&nbsp;
&nbsp;@Composable
<b class="nc">&nbsp;fun GameStatus(score: Int, modifier: Modifier = Modifier) {</b>
<b class="nc">&nbsp;    Card(</b>
<b class="nc">&nbsp;        modifier = modifier</b>
<b class="nc">&nbsp;    ) {</b>
<b class="nc">&nbsp;        Text(</b>
<b class="nc">&nbsp;            text = stringResource(R.string.score, score),</b>
<b class="nc">&nbsp;            style = typography.headlineMedium,</b>
<b class="nc">&nbsp;            modifier = Modifier.padding(8.dp)</b>
<b class="nc">&nbsp;        )</b>
&nbsp;
&nbsp;    }
<b class="nc">&nbsp;}</b>
&nbsp;
&nbsp;@Composable
&nbsp;fun GameLayout(
&nbsp;    currentScrambledWord: String,
&nbsp;    wordCount: Int,
&nbsp;    isGuessWrong: Boolean,
&nbsp;    userGuess: String,
&nbsp;    onUserGuessChanged: (String) -&gt; Unit,
&nbsp;    onKeyboardDone: () -&gt; Unit,
<b class="nc">&nbsp;    modifier: Modifier = Modifier</b>
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;    val mediumPadding = dimensionResource(R.dimen.padding_medium)</b>
&nbsp;
<b class="nc">&nbsp;    Card(</b>
<b class="nc">&nbsp;        modifier = modifier,</b>
<b class="nc">&nbsp;        elevation = CardDefaults.cardElevation(defaultElevation = 5.dp)</b>
<b class="nc">&nbsp;    ) {</b>
<b class="nc">&nbsp;        Column(</b>
<b class="nc">&nbsp;            verticalArrangement = Arrangement.spacedBy(mediumPadding),</b>
<b class="nc">&nbsp;            horizontalAlignment = Alignment.CenterHorizontally,</b>
<b class="nc">&nbsp;            modifier = Modifier.padding(mediumPadding)</b>
&nbsp;        ) {
<b class="nc">&nbsp;            Text(</b>
<b class="nc">&nbsp;                modifier = Modifier</b>
<b class="nc">&nbsp;                    .clip(shapes.medium)</b>
<b class="nc">&nbsp;                    .background(colorScheme.surfaceTint)</b>
<b class="nc">&nbsp;                    .padding(horizontal = 10.dp, vertical = 4.dp)</b>
<b class="nc">&nbsp;                    .align(alignment = Alignment.End),</b>
<b class="nc">&nbsp;                text = stringResource(R.string.word_count, wordCount),</b>
<b class="nc">&nbsp;                style = typography.titleMedium,</b>
<b class="nc">&nbsp;                color = colorScheme.onPrimary</b>
&nbsp;            )
<b class="nc">&nbsp;            Text(</b>
<b class="nc">&nbsp;                text = currentScrambledWord,</b>
<b class="nc">&nbsp;                style = typography.displayMedium</b>
&nbsp;            )
<b class="nc">&nbsp;            Text(</b>
<b class="nc">&nbsp;                text = stringResource(R.string.instructions),</b>
<b class="nc">&nbsp;                textAlign = TextAlign.Center,</b>
<b class="nc">&nbsp;                style = typography.titleMedium</b>
&nbsp;            )
<b class="nc">&nbsp;            OutlinedTextField(</b>
<b class="nc">&nbsp;                value = userGuess,</b>
<b class="nc">&nbsp;                singleLine = true,</b>
<b class="nc">&nbsp;                shape = shapes.large,</b>
<b class="nc">&nbsp;                modifier = Modifier.fillMaxWidth(),</b>
<b class="nc">&nbsp;                colors = TextFieldDefaults.colors(</b>
<b class="nc">&nbsp;                    focusedContainerColor = colorScheme.surface,</b>
<b class="nc">&nbsp;                    unfocusedContainerColor = colorScheme.surface,</b>
<b class="nc">&nbsp;                    disabledContainerColor = colorScheme.surface,</b>
&nbsp;                ),
<b class="nc">&nbsp;                onValueChange = onUserGuessChanged,</b>
<b class="nc">&nbsp;                label = {</b>
<b class="nc">&nbsp;                    if (isGuessWrong) {</b>
<b class="nc">&nbsp;                        Text(stringResource(R.string.wrong_guess))</b>
<b class="nc">&nbsp;                    } else {</b>
<b class="nc">&nbsp;                        Text(stringResource(R.string.enter_your_word))</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                },
<b class="nc">&nbsp;                isError = isGuessWrong,</b>
<b class="nc">&nbsp;                keyboardOptions = KeyboardOptions.Default.copy(</b>
<b class="nc">&nbsp;                    imeAction = ImeAction.Done</b>
&nbsp;                ),
<b class="nc">&nbsp;                keyboardActions = KeyboardActions(</b>
<b class="nc">&nbsp;                    onDone = { onKeyboardDone() }</b>
&nbsp;                )
&nbsp;            )
<b class="nc">&nbsp;        }</b>
&nbsp;    }
<b class="nc">&nbsp;}</b>
&nbsp;
&nbsp;/*
&nbsp; * Creates and shows an AlertDialog with final score.
&nbsp; */
&nbsp;@Composable
&nbsp;private fun FinalScoreDialog(
&nbsp;    score: Int,
&nbsp;    onPlayAgain: () -&gt; Unit,
<b class="nc">&nbsp;    modifier: Modifier = Modifier</b>
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;    val activity = (LocalContext.current as Activity)</b>
&nbsp;
<b class="nc">&nbsp;    AlertDialog(</b>
&nbsp;        onDismissRequest = {
<b class="nc">&nbsp;            // Dismiss the dialog when the user clicks outside the dialog or on the back</b>
&nbsp;            // button. If you want to disable that functionality, simply use an empty
&nbsp;            // onCloseRequest.
&nbsp;        },
&nbsp;        title = { Text(text = stringResource(R.string.congratulations)) },
<b class="nc">&nbsp;        text = { Text(text = stringResource(R.string.you_scored, score)) },</b>
<b class="nc">&nbsp;        modifier = modifier,</b>
<b class="nc">&nbsp;        dismissButton = {</b>
<b class="nc">&nbsp;            TextButton(</b>
&nbsp;                onClick = {
<b class="nc">&nbsp;                    activity.finish()</b>
&nbsp;                }
&nbsp;            ) {
&nbsp;                Text(text = stringResource(R.string.exit))
<b class="nc">&nbsp;            }</b>
&nbsp;        },
<b class="nc">&nbsp;        confirmButton = {</b>
<b class="nc">&nbsp;            TextButton(onClick = onPlayAgain) {</b>
&nbsp;                Text(text = stringResource(R.string.play_again))
<b class="nc">&nbsp;            }</b>
&nbsp;        }
&nbsp;    )
<b class="nc">&nbsp;}</b>
&nbsp;
&nbsp;@Preview(showBackground = true)
&nbsp;@Composable
<b class="nc">&nbsp;fun GameScreenPreview() {</b>
<b class="nc">&nbsp;    UnscrambleTheme {</b>
&nbsp;        GameScreen()
&nbsp;    }
<b class="nc">&nbsp;}</b>
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-10-14 02:39</div>
</div>
</body>
</html>
